<?xml version="1.0" encoding="UTF-8"?>
<semantic:definitions xmlns="http://www.omg.org/spec/DMN/20191111/MODEL/"
                      xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/"
                      xmlns:di="http://www.omg.org/spec/DMN/20180521/DI/"
                      xmlns:dmndi="http://www.omg.org/spec/DMN/20180521/DMNDI/"
                      xmlns:feel="http://www.omg.org/spec/DMN/20191111/FEEL/"
                      xmlns:kie="http://www.omg.org/spec/DMN/20191111/KIE-DMN/"
                      xmlns:semantic="http://www.omg.org/spec/DMN/20191111/MODEL/"
                      id="_0019_flight_rebooking"
                      name="0019-flight-rebooking"
                      namespace="http://www.omg.org/spec/DMN/20191111/MODEL/">
   <semantic:itemDefinition id="_tFlight" name="tFlight">
      <semantic:itemComponent id="_tFlight_Flight" name="Flight Number">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_From" name="From">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_To" name="To">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_Dep" name="Departure">
         <semantic:typeRef>dateTime</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_Arr" name="Arrival">
         <semantic:typeRef>dateTime</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_Capacity" name="Capacity">
         <semantic:typeRef>number</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tFlight_Status" name="Status">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
   </semantic:itemDefinition>
   <semantic:itemDefinition id="_tFlightTable" isCollection="true" name="tFlightTable">
      <semantic:typeRef>tFlight</semantic:typeRef>
   </semantic:itemDefinition>
   <semantic:itemDefinition id="_tPassenger" name="tPassenger">
      <semantic:itemComponent id="_tPassenger_Name" name="Name">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tPassenger_Status" name="Status">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tPassenger_Miles" name="Miles">
         <semantic:typeRef>number</semantic:typeRef>
      </semantic:itemComponent>
      <semantic:itemComponent id="_tPassenger_Flight" name="Flight Number">
         <semantic:typeRef>string</semantic:typeRef>
      </semantic:itemComponent>
   </semantic:itemDefinition>
   <semantic:itemDefinition id="_tPassengerTable" isCollection="true" name="tPassengerTable">
      <semantic:typeRef>tPassenger</semantic:typeRef>
   </semantic:itemDefinition>
   <semantic:itemDefinition id="_tFlightNumberList"
                            isCollection="true"
                            name="tFlightNumberList">
      <semantic:typeRef>string</semantic:typeRef>
   </semantic:itemDefinition>
   <semantic:inputData id="i_Flight_List" name="Flight List">
      <semantic:variable name="Flight List" typeRef="tFlightTable"/>
   </semantic:inputData>
   <semantic:inputData id="i_Passenger_List" name="Passenger List">
      <semantic:variable name="Passenger List" typeRef="tPassengerTable"/>
   </semantic:inputData>
   <semantic:decision name="Prioritized Waiting List" id="d_PrioritizedWaitingList">
      <semantic:variable name="Prioritized Waiting List" typeRef="tPassengerTable"/>
      <semantic:informationRequirement>
         <semantic:requiredInput href="#i_Passenger_List"/>
      </semantic:informationRequirement>
      <semantic:informationRequirement>
         <semantic:requiredInput href="#i_Flight_List"/>
      </semantic:informationRequirement>
      <semantic:knowledgeRequirement>
         <semantic:requiredKnowledge href="#b_PassengerPriority"/>
      </semantic:knowledgeRequirement>
      <semantic:context>
         <semantic:contextEntry>
            <semantic:variable name="Cancelled Flights" typeRef="tFlightNumberList"/>
            <semantic:literalExpression>
               <semantic:text>Flight List[ Status = "cancelled" ].Flight Number</semantic:text>
            </semantic:literalExpression>
         </semantic:contextEntry>
         <semantic:contextEntry>
            <semantic:variable name="Waiting List" typeRef="tPassengerTable"/>
            <semantic:literalExpression>
               <semantic:text>Passenger List[ list contains( Cancelled Flights, Flight Number ) ]</semantic:text>
            </semantic:literalExpression>
         </semantic:contextEntry>
         <semantic:contextEntry>
            <semantic:literalExpression>
               <semantic:text>sort( Waiting List, passenger priority )</semantic:text>
            </semantic:literalExpression>
         </semantic:contextEntry>
      </semantic:context>
   </semantic:decision>
   <semantic:decision name="Rebooked Passengers" id="d_RebookedPassengers">
      <semantic:variable name="Rebooked Passengers" typeRef="tPassengerTable"/>
      <semantic:informationRequirement>
         <semantic:requiredDecision href="#d_PrioritizedWaitingList"/>
      </semantic:informationRequirement>
      <semantic:informationRequirement>
         <semantic:requiredInput href="#i_Flight_List"/>
      </semantic:informationRequirement>
      <semantic:knowledgeRequirement>
         <semantic:requiredKnowledge href="#b_ReassignNextPassenger"/>
      </semantic:knowledgeRequirement>
      <semantic:invocation>
         <semantic:literalExpression>
            <semantic:text>reassign next passenger</semantic:text>
         </semantic:literalExpression>
         <semantic:binding>
            <semantic:parameter name="Waiting List"/>
            <semantic:literalExpression>
               <semantic:text>Prioritized Waiting List</semantic:text>
            </semantic:literalExpression>
         </semantic:binding>
         <semantic:binding>
            <semantic:parameter name="Reassigned Passengers List"/>
            <semantic:literalExpression>
               <semantic:text>[]</semantic:text>
            </semantic:literalExpression>
         </semantic:binding>
         <semantic:binding>
            <semantic:parameter name="Flights"/>
            <semantic:literalExpression>
               <semantic:text>Flight List</semantic:text>
            </semantic:literalExpression>
         </semantic:binding>
      </semantic:invocation>
   </semantic:decision>
</semantic:definitions>

